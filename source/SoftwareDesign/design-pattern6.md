# 【设计模式】接口隔离类

作者：wallace-lai <br>
发布：2024-04-02 <br>
更新：2024-04-24 <br>

在组件构建过程中，某些接口之间直接的依赖常常会带来很多问题、甚至根本无法实现。采用添加一层**间接**（稳定）接口，来隔离本来互相紧密关联的接口是一种常见的解决方案。

典型的接口隔离模式有：

（1）Facade - 门面模式

（2）Proxy - 代理模式

（3）Adapter - 适配器

（4）Mediator - 中介者

## 一、门面模式

### 1.1 动机

假设有三个外部组件要和子系统内部组件交互，有以下两种方案：

（1）方案A中外部组件直接和系统内部的组件交互；

（2）方案B中子系统新增Facade间接层，外部组件通过Facade层与子系统内部组件交互；

![两种不同设计方案](../media/images/SoftwareDesign/design-pattern9.png)

上述A方案的问题在于组件的客户和组件中各种复杂的子系统有了过多的耦合，随着外部客户程序和各子系统的演化，这种过多的耦合面临很多变化的挑战。

如何简化外部客户程序和系统间的交互接口？如何将外部客户程序的演化和内部子系统的变化之间的依赖解耦？

### 1.2 定义
门面模式：**为子系统中的一组接口提供一个一致（稳定）的界面，门面模式定义了一个高层接口，这个接口使得这一子系统更加容易使用（复用）**。

### 1.3 总结
（1）从客户程序的角度来看，门面模式简化了整个组件系统的接口，对于组件内部与外部客户程序来说，达到了一种解耦的效果——内部子系统的任何变化不会影响到门面接口的变化。

（2）门面模式更注重从架构的层次去看整个系统，而不是单个类的层次。门面模式很多时候更是一种架构设计模式。

（3）门面模式并非一个集装箱，可以任意地放进如何多个对象。门面模式中的组件的内容应该是相互耦合关系比较大的一系列组件，而不是一个简单的功能集合。

## 二、代理模式

## 三、适配器

## 四、中介者

未完待续...