# 【TCP/IP详解卷一】第五章 Internet协议

作者：wallace-lai <br/>
发布：2024-03-26 <br/>
更新：2023-03-26 <br/>

## 一、引言
IP是TCP/IP协议族中的核心协议。所有TCP、UDP、ICMP和IGMP数据都通过IP数据报传输。IP提供了一种**尽力而为**、**无连接**的数据报交付服务。


**尽力而为**的含义是不保证IP数据报能成功到达目的地。虽然IP不是简单丢弃所有不必要流量，但它也不对自已尝试交付的数据报提供保证。当某些错误发生时，例如一台路由器临时用尽缓冲区，IP提供一个简单的错误处理方法：丢弃一些数据（通常是最后到达的数据报）。任何可靠性必须由上层（例如TCP）提供。IPv4和IPv6都使用这种尽力而为的基本交付模式。

**无连接**意味着IP不维护网络单元（即路由器）中数据报相关的任何链接状态信息，每个数据报独立于其他数据报来处理。这也意味着IP数据报可不按顺序交付。如果一个源主机向同一目的地发送两个连续的数据报（第一个为A，第二个为B），每个数据报可以独立路由，通过不同路径，并且B可能在A之前到达。IP数据报也可能发生其他问题：**它们可能在传输过程中被复制，可能改变内容从而导致错误**。此外，IP之上的一些协议（通常是TCP）需要处理这些潜在问题，以便为应用提供无差错的交付。

### IPv4数据报结构


### IPv6数据报结构


## 二、IPv4和IPv6头部

## 三、IPv6扩展头部

## 四、IP转发

## 五、移动IP
暂略

## 六、IP数据报的主机处理

## 七、与IP相关的攻击
暂略

未完待续...